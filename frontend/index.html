<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservas - Merendero Leo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Reservas - Merendero Leo</h1>
    <form id="reservaForm">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required>

        <label for="fecha">Fecha:</label>
        <input type="date" id="fecha" name="fecha" required>

        <label>Horarios:</label>
        <label><input type="checkbox" name="horarios" value="mañana"> Mañana</label>
        <label><input type="checkbox" name="horarios" value="tarde"> Tarde</label>
        <label><input type="checkbox" name="horarios" value="noche"> Noche</label>

        <button type="submit">Reservar</button>
    </form>

    <div class="reservas">
        <h2>Historial de Reservas</h2>
        <ul id="reservaHistorial"></ul>
    </div>

    <p id="errorMsg" style="color: red; display: none;"></p>

    <script>
        // Verificar conexión con el backend
        const API_URL = 'http://localhost:3000/reservas';

        fetch(API_URL)
            .then(response => {
                if (!response.ok) throw new Error('No se pudo conectar con el servidor.');
                return response.json();
            })
            .then(data => console.log('Conexión exitosa:', data))
            .catch(error => {
                const errorMsg = document.getElementById('errorMsg');
                errorMsg.style.display = 'block';
                errorMsg.textContent = 'Error: No se pudo conectar con el servidor. Asegúrate de que el backend esté corriendo.';
                console.error(error);
            });
    </script>

    <script src="script.js"></script>
</body>
</html>
